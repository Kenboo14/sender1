import re
from pyrogram import Client, filters
from telegram import Chat, ChatMember
from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup

api_id = 24977504
api_hash = '431a1ec75b188d6d3d46dabe99126c6e'
bot_token = '5688019347:AAGk2Gi2krOhbuOeV1r3hQH6ZdvX56A3wys'

app = Client("my_bot", api_id=api_id, api_hash=api_hash, bot_token=bot_token)
EXEMPTED_GROUP_ID = [-1001675452200, -1001872496207, -1001972957095]
# Daftar karakter huruf yang tidak diinginkan
UNWANTED_CHARS = [
'ğ”¨', 'ğ”©', 'ğ”ª', 'ğ”«', 'ğ”¬', 'ğ”­', 'ğ”®', 'ğ”¯', 'ğ”±', 'ğ”²', 'ğ”£', 'ğ”´', 'ğ”µ', 'ğ”¶', 
'ğ”·', 'ğ–†', 'ğ–‡', 'ğ–ˆ', 'ğ–‰', 'ğ–Š', 'ğ–‹', 'ğ–Œ', 'ğ–', 'ğ–', 'ğ–', 'ğ–', 'ğ–‘', 'ğ–’', 
'ğ–“', 'ğ–”', 'ğ–•', 'ğ––', 'ğ–—', 'ğ–˜', 'ğ–™', 'ğ–š', 'ğ–‹', 'ğ–œ', 'ğ–', 'ğ–', 'ğ–Ÿ', 'ğ“ª', 
'ğ“«', 'ğ“¬', 'ğ“­', 'ğ“®', 'ğ“¯', 'ğ“°', 'ğ“±', 'ğ“²', 'ğ“³', 'ğ“´', 'ğ“µ', 'ğ“¶', 'ğ“·', 'ğ“¸', 
'ğ“¹', 'ğ“º', 'ğ“»', 'ğ“¼', 'ğ“½', 'ğ“¾', 'ğ“¯', 'ğ”€', 'ğ”', 'ğ”‚', 'ğ”ƒ', 'ğ’¶', 'ğ’·', 'ğ’¸', 
'ğ’¹', 'ğ‘’', 'ğ’»', 'ğ‘”', 'ğ’½', 'ğ’¾', 'ğ’¿', 'ğ“€', 'ğ“', 'ğ“‚', 'ğ“ƒ', 'ğ‘œ', 'ğ“…', 'ğ“†', 
'ğ“‡', 'ğ“ˆ', 'ğ“‰', 'ğ“Š', 'ğ’»', 'ğ“Œ', 'ğ“', 'ğ“', 'ğ“', 'ğ•’', 'ğ•“', 'ğ•”', 'ğ••', 'ğ•–', 
'ğ•—', 'ğ•˜', 'ğ•™', 'ğ•š', 'ğ•›', 'ğ•œ', 'ğ•', 'ğ•', 'ğ•Ÿ', 'ğ• ', 'ğ•¡', 'ğ•¢', 'ğ•£', 'ğ•¤', 
'ğ•¥', 'ğ•¦', 'ğ•—', 'ğ•¨', 'ğ•©', 'ğ•ª', 'ğ•«', 'ï½ ', 'ï½‚ ', 'ï½ƒ ', 'ï½„ ', 'ï½… ', 
'ï½† ', 'ï½‡ ', 'ï½ˆ ', 'ï½‰ ', 'ï½Š ', 'ï½‹ ', 'ï½Œ ', 'ï½ ', 'ï½', 'ï½ ', 'ï½'
 'ï½‘ ', 'ï½’ ', 'ï½“ ', 'ï½” ', 'ï½• ', 'ï½† ', 'ï½— ', 'ï½˜ ', 'ï½™ ', 'ï½š ', 
'ğ’¶', 'ğ’·', 'ğ’¸', 'ğ’¹', 'ğ‘’', 'ğ’»', 'ğ‘”', 'ğ’½', 'ğ’¾', 'ğ’¿', 'ğ“€', 'ğ“', 'ğ“‚', 'ğ“ƒ', 
'ğ“…', 'ğ“†', 'ğ“‡', 'ğ“ˆ', 'ğ“‰', 'ğ“Š', 'ğ’»', 'ğ“Œ', 'ğ“', 'ğ“', 'ğ“', 'á´€', 'Ê™', 'á´„', 
'á´…', 'á´‡', 'êœ°', 'É¢', 'Êœ', 'Éª', 'á´Š', 'á´‹', 'ÊŸ', 'á´', 'É´', 'á´', 'á´˜', 'Ç«', 
'Ê€', 'á´›', 'á´œ', 'êœ°', 'á´¡', 'Ê', 'á´¢', 'ğš', 'ğ›', 'ğœ', 'ğ', 'ğ', 'ğŸ', 'ğ ', 
'ğ¡', 'ğ¢', 'ğ£', 'ğ¤', 'ğ¥', 'ğ¦', 'ğ§', 'ğ¨', 'ğ©', 'ğª', 'ğ«', 'ğ­', 'ğ®', 'ğŸ', 
'ğ°', 'ğ±', 'ğ²', 'ğ³', 'ğ˜¢', 'ğ˜£', 'ğ˜¤', 'ğ˜¥', 'ğ˜¦', 'ğ˜§', 'ğ˜¨', 'ğ˜©', 'ğ˜ª', 'ğ˜«', 
'ğ˜¬', 'ğ˜­', 'ğ˜®', 'ğ˜¯', 'ğ˜°', 'ğ˜±', 'ğ˜²', 'ğ˜³', 'ğ˜´', 'ğ˜µ', 'ğ˜¶', 'ğ˜§', 'ğ˜¸', 'ğ˜¹', 
'ğ˜º', 'ğ˜»', 
'Ì¶a','Ì¶','Ì¶b','Ì¶','Ì¶c','Ì¶','Ì¶d','Ì¶','Ì¶e','Ì¶','Ì¶f','Ì¶','Ì¶g','Ì¶','Ì¶h','Ì¶','Ì¶i','Ì¶','Ì¶j','Ì¶','Ì¶k','Ì¶','Ì¶l','Ì¶','Ì¶m','Ì¶','Ì¶n','Ì¶','Ì¶o','Ì¶','Ì¶p','Ì¶','Ì¶q','Ì¶','Ì¶r','Ì¶','Ì¶','Ì¶t','Ì¶','Ì¶','Ì¶f','Ì¶','Ì¶w','Ì¶','Ì¶','Ì¶y','Ì¶','Ì¶z', 
'á—©', 'á—·', 'á‘•', 'á—', 'á—´', 'á–´', 'á€', 'á•¼', 'á†', 'á’', 'á¦', 'á', 'á—°', 'á‘', 
'áª', 'á‘­', 'á‘«', 'á–‡', 'á”‘', 'á¢', 'á‘Œ', 'á–´', 'á—¯', 'á™­', 'á©', 'áƒ', 'ğ“ª', 'ğ“«', 
'ğ“¬', 'ğ“­', 'ğ“®', 'ğ“¯', 'ğ“°', 'ğ“±', 'ğ“²', 'ğ“³', 'ğ“´', 'ğ“µ', 'ğ“¶', 'ğ“·', 'ğ“¸', 'ğ“¹', 
'ğ“º', 'ğ“»', 'ğ“¼', 'ğ“½', 'ğ“¾', 'ğ“¯', 'ğ”€', 'ğ”', 'ğ”‚', 'ğ”ƒ', 'ğšŠ', 'ğš‹', 'ğšŒ', 'ğš', 
'ğš', 'ğš', 'ğš', 'ğš‘', 'ğš’', 'ğš“', 'ğš”', 'ğš•', 'ğš–', 'ğš—', 'ğš˜', 'ğš™', 'ğšš', 'ğš›', 
'ğšœ', 'ğš', 'ğš', 'ğš', 'ğš ', 'ğš¡', 'ğš¢', 'ğš£', 'â“', 'â“‘', 'â“’', 'â““', 'â“”', 'â“•', 
'â“–', 'â“—', 'â“˜', 'â“™', 'â“š', 'â“›', 'â“œ', 'â“', 'â“', 'â“Ÿ', 'â“ ', 'â“¡', 'â“¢', 'â“£', 
'â“¤', 'â“•', 'â“¦', 'â“§', 'â“¨', 'â“©', 'ğ˜¼', 'ğ˜½', 'ğ˜¾', 'ğ˜¿', 'ğ™€', 'ğ™', 'ğ™‚', 'ğ™ƒ', 
'ğ™„', 'ğ™…', 'ğ™†', 'ğ™‡', 'ğ™ˆ', 'ğ™‰', 'ğ™Š', 'ğ™‹', 'ğ™Œ', 'ğ™', 'ğ™', 'ğ™', 'ğ™', 'ğ™', 
'ğ™’', 'ğ™“', 'ğ™”', 'ğ™•', 'ğ™–', 'ğ™—', 'ğ™˜', 'ğ™™', 'ğ™š', 'ğ™›', 'ğ™œ', 'ğ™', 'ğ™', 'ğ™Ÿ', 
'ğ™ ', 'ğ™¡', 'ğ™¢', 'ğ™£', 'ğ™¤', 'ğ™¥', 'ğ™¦', 'ğ™§', 'ğ™¨', 'ğ™©', 'ğ™ª', 'ğ™«', 'ğ™¬', 'ğ™­', 
'ğ™®', 'ğ™¯', 'ğ—®', 'ğ—¯', 'ğ—°', 'ğ—±', 'ğ—²', 'ğ—³', 'ğ—´', 'ğ—µ', 'ğ—¶', 'ğ—·', 'ğ—¸', 'ğ—¹', 
'ğ—º', 'ğ—»', 'ğ—¼', 'ğ—½', 'ğ—¾', 'ğ—¿', 'ğ˜€', 'ğ˜', 'ğ˜‚', 'ğ˜ƒ', 'ğ˜„', 'ğ˜…', 'ğ˜†', 'ğ˜‡', 
'ğ˜¢', 'ğ˜£', 'ğ˜¤', 'ğ˜¥', 'ğ˜¦', 'ğ˜§', 'ğ˜¨', 'ğ˜©', 'ğ˜ª', 'ğ˜«', 'ğ˜¬', 'ğ˜­', 'ğ˜®', 'ğ˜¯', 
'ğ˜°', 'ğ˜±', 'ğ˜²', 'ğ˜³', 'ğ˜´', 'ğ˜µ', 'ğ˜¶', 'ğ˜·', 'ğ˜¸', 'ğ˜¹', 'ğ˜º', 'ğ˜»', 'ğ’‚', 'ğ’ƒ', 
'ğ’„', 'ğ’…', 'ğ’†', 'ğ’‡', 'ğ’ˆ', 'ğ’‰', 'ğ’Š', 'ğ’‹', 'ğ’Œ', 'ğ’', 'ğ’', 'ğ’', 'ğ’', 'ğ’‘', 
'ğ’’', 'ğ’“', 'ğ’”', 'ğ’•', 'ğ’–', 'ğ’—', 'ğ’˜', 'ğ’™', 'ğ’š', 'ğ’›', 'ğš', 'ğ›', 'ğœ', 'ğ', 
'ğ', 'ğŸ', 'ğ ', 'ğ¡', 'ğ¢', 'ğ£', 'ğ¤', 'ğ¥', 'ğ¦', 'ğ§', 'ğ¨', 'ğ©', 'ğª', 'ğ«', 
'ğ¬', 'ğ­', 'ğ®', 'ğ¯', 'ğ°', 'ğ±', 'ğ²', 'ğ³', 'ğ‘', 'ğ‘', 'ğ‘', 'ğ‘‘', 'ğ‘’', 'ğ‘“', 
'ğ‘”', 'â„', 'ğ‘–', 'ğ‘—', 'ğ‘˜', 'ğ‘™', 'ğ‘š', 'ğ‘›', 'ğ‘œ', 'ğ‘', 'ğ‘', 'ğ‘Ÿ', 'ğ‘ ', 'ğ‘¡', 
'ğ‘¢', 'ğ‘£', 'ğ‘¤', 'ğ‘¥', 'ğ‘¦', 'ğ‘§', 'ğ•’', 'ğ•“', 'ğ•”', 'ğ••', 'ğ•–', 'ğ•—', 'ğ•˜', 'ğ•™', 
'ğ•š', 'ğ•›', 'ğ•œ', 'ğ•', 'ğ•', 'ğ•Ÿ', 'ğ• ', 'ğ•¡', 'ğ•¢', 'ğ•£', 'ğ•¤', 'ğ•¥', 'ğ•¦', 'ğ•§', 
'ğ•¨', 'ğ•©', 'ğ•ª', 'ğ•«', 'ğ“ª', 'ğ“«', 'ğ“¬', 'ğ“­', 'ğ“®', 'ğ“¯', 'ğ“°', 'ğ“±', 'ğ“²', 'ğ“³', 
'ğ“´', 'ğ“µ', 'ğ“¶', 'ğ“·', 'ğ“¸', 'ğ“¹', 'ğ“º', 'ğ“»', 'ğ“¼', 'ğ“½', 'ğ“¾', 'ğ“¿', 'ğ”€', 'ğ”', 
'ğ”‚', 'ğ”ƒ', 'ğ’¶', 'ğ’·', 'ğ’¸', 'ğ’¹', 'ğ‘’', 'ğ’»', 'ğ‘”', 'ğ’½', 'ğ’¾', 'ğ’¿', 'ğ“€', 'ğ“', 
'ğ“‚', 'ğ“ƒ', 'ğ‘œ', 'ğ“…', 'ğ“†', 'ğ“‡', 'ğ“ˆ', 'ğ“‰', 'ğ“Š', 'ğ“‹', 'ğ“Œ', 'ğ“', 'ğ“', 'ğ“', 
'ğ—”', 'ğ—•', 'ğ—–', 'ğ——', 'ğ—˜', 'ğ—™', 'ğ—š', 'ğ—›', 'ğ—œ', 'ğ—', 'ğ—', 'ğ—Ÿ', 'ğ— ', 'ğ—¡', 
'ğ—¢', 'ğ—£', 'ğ—¤', 'ğ—¥', 'ğ—¦', 'ğ—§', 'ğ—¨', 'ğ—©', 'ğ—ª', 'ğ—«', 'ğ—¬', 'ğ—­', 'ğ˜ˆ', 'ğ˜‰', 
'ğ˜Š', 'ğ˜‹', 'ğ˜Œ', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜‘', 'ğ˜’', 'ğ˜“', 'ğ˜”', 'ğ˜•', 'ğ˜–', 'ğ˜—', 
'ğ˜˜', 'ğ˜™', 'ğ˜š', 'ğ˜›', 'ğ˜œ', 'ğ˜', 'ğ˜', 'ğ˜Ÿ', 'ğ˜ ', 'ğ˜¡', 'ğ‘¨', 'ğ‘©', 'ğ‘ª', 'ğ‘«', 
'ğ‘¬', 'ğ‘­', 'ğ‘®', 'ğ‘¯', 'ğ‘°', 'ğ‘±', 'ğ‘²', 'ğ‘³', 'ğ‘´', 'ğ‘µ', 'ğ‘¶', 'ğ‘·', 'ğ‘¸', 'ğ‘¹', 
'ğ‘º', 'ğ‘»', 'ğ‘¼', 'ğ‘½', 'ğ‘¾', 'ğ‘¿', 'ğ’€', 'ğ’', 'ğ€', 'ğ', 'ğ‚', 'ğƒ', 'ğ„', 'ğ…', 
'ğ†', 'ğ‡', 'ğˆ', 'ğ‰', 'ğŠ', 'ğ‹', 'ğŒ', 'ğ', 'ğ', 'ğ', 'ğ', 'ğ‘', 'ğ’', 'ğ“', 
'ğ”', 'ğ•', 'ğ–', 'ğ—', 'ğ˜', 'ğ™', 'ğ´', 'ğµ', 'ğ¶', 'ğ·', 'ğ¸', 'ğ¹', 'ğº', 'ğ»', 
'ğ¼', 'ğ½', 'ğ¾', 'ğ¿', 'ğ‘€', 'ğ‘', 'ğ‘‚', 'ğ‘ƒ', 'ğ‘„', 'ğ‘…', 'ğ‘†', 'ğ‘‡', 'ğ‘ˆ', 'ğ‘‰', 
'ğ‘Š', 'ğ‘‹', 'ğ‘Œ', 'ğ‘', 'ğŸ…', 'ğŸ…‘', 'ğŸ…’', 'ğŸ…“', 'ğŸ…”', 'ğŸ…•', 'ğŸ…–', 'ğŸ…—', 'ğŸ…˜', 'ğŸ…™', 
'ğŸ…š', 'ğŸ…›', 'ğŸ…œ', 'ğŸ…', 'ğŸ…', 'ğŸ…Ÿ', 'ğŸ… ', 'ğŸ…¡', 'ğŸ…¢', 'ğŸ…£', 'ğŸ…¤', 'ğŸ…•', 'ğŸ…¦', 'ğŸ…§', 
'ğŸ…¨', 'ğŸ…©', 'ğŸ…ƒ', 'ğŸ„´', 'ğŸ„º', 'ğŸ„¼', 'ğŸ„¸', 'ğŸ…„', 'ğŸ…ƒ', 'ğŸ„²', 'ğŸ„°', 'ğŸ…', 'ğŸ…‚', 'ğŸ„»', 
'ğŸ„½', 'ğŸ„¶', 'ğŸ„·', 'ğŸ„½', 'ğŸ„³', 'ğŸ„±', 'ğŸ…ˆ', 'ğŸ„¾', 'ğŸ„·', 'ğ•‹', 'ğ•„', 'ğ•†', 'â„‚', 'ğ•Œ', 
'ğ”¸', 'â„•', 'ğ•‚', 'ğ•ƒ', 'ğ”¾', 'ğ•Š', 'ğ•Œ', 'ğ•', 'ğ•€', 'ğ”»' 'L', 'E', 'P', 'H', 
'N', 'G', 'W', 'D', 'B',
'Y', '0',
'T','A','K','E','M','I','Y','O','T',
'S','P','G','D'
]
@app.on_message(filters.command(["start"]))
async def start_command_handler(client, message):
    keyboard = [
        [
            InlineKeyboardButton("Add To Group", url='https://t.me/v1BNUnGcastbot?startgroup=true'),
        ],
        [
            InlineKeyboardButton("Channel", url='https://t.me/rexc0de'),
            InlineKeyboardButton("Developer",url='https://t.me/eldipion'),
        ]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await message.reply_text("Hai Tongmet Lovers\nini adalah bot penghapus gcast yang dimana menghapus per Karakter.\nuntuk menjalankan, baiknya beri akses bot menjadi admin.\n\nJika Ingin Menggunakan Bot ini Silahkan Chat Developer", reply_markup=reply_markup)

# Define a callback query handler
@app.on_callback_query()
async def callback_query_handler(client, query):
    if query.data == "button1":
        await query.message.edit_text("Anda memilih Button 1")
    elif query.data == "button2":
        await query.message.edit_text("Anda memilih Button 2")
    else:
        await query.answer()
# Tambahkan filter agar fungsi hanya dipanggil saat pesan teks baru diterima
# Fungsi untuk menghapus karakter yang tidak diinginkan dari string
def remove_unwanted_chars(text):
    for char in UNWANTED_CHARS:
        text = re.sub(char, '', text, flags=re.IGNORECASE)
    return text
# Fungsi untuk menghapus pesan yang mengandung karakter tidak diinginkan
@app.on_message(filters.text & ~filters.edited)
async def delete_messages_with_unwanted_chars(client, message):
    chat_id = message.chat.id
    # Cek apakah pesan berasal dari admin grup yang ditentukan
    chat_member = await client.get_chat_member(chat_id, message.from_user.id)
    if chat_member.status in ("administrator", "creator") and chat_member.chat.id == EXEMPTED_GROUP_ID:
        return
    # Hapus pesan yang mengandung karakter yang tidak diinginkan
    if any(char in message.text.lower() for char in UNWANTED_CHARS):
        await message.delete()
if __name__ == '__main__':
    app.run()
